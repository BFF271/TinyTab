import{c as e,d as t,u as a,a as n,o as l,b as i,e as o,w as s,F as r,r as u,f as c,t as d,g,B as m,_ as f,h as p,i as h,j as v,k as y,v as b,l as S,m as x,n as w,p as E,S as k,C as _,q as T,s as L,x as D,y as U,z as C,A as B,E as I,I as P,D as G,G as N,H as O,J as A,K as z,L as q,M as F,N as M,O as j,P as J,Q as V,T as H,R as $,U as R,V as W,W as K,X as Y,Y as Q,Z as X,$ as Z,a0 as ee,a1 as te,a2 as ae,a3 as ne,a4 as le,a5 as ie,a6 as oe,a7 as se,a8 as re,a9 as ue,aa as ce,ab as de,ac as ge,ad as me,ae as fe,af as pe,ag as he,ah as ve,ai as ye,aj as be,ak as Se,al as xe,am as we,an as Ee,ao as ke,ap as _e,aq as Te,ar as Le,as as De,at as Ue,au as Ce}from"./vendor.fce71c70.js";var Be={backgroundSetting:{choose:"Select",desc:"Limited to the storage capacity of the browser, please select a picture smaller than 2M in the format of png or jpg",title:"Background picture"},button:{cancel:"Cancel",continue:"Carry on",submit:"Submit"},colorPicker:{engineColorLabel:"Color"},dialog:{settingActionsDesc:"The imported configuration will overwrite all current configurations"},editEngineSetting:{deleteTip:"Do you want to delete this search engine?",desc:"Click x to delete, click the name to enter editing",example:"Eg",nameInputLabel:"Name",placeholderInputLabel:"Prompt",prefixInputLabel:"Prefix",suffixInputLabel:"Suffix",title:"Edit engine",urlInputLabel:"Base URL"},message:{addSuccess:"Added successfully",clear:"Cleared",delSuccess:"Successfully deleted",imgFormatError:"Only picture files in png or jpg format can be selected, please select again",importSuccess:"Successfully imported configuration",noDelDefaultEngine:"Can not delete the default search engine",sizeOverflow:"Can only select pictures smaller than 2M, please select again",sortSuccess:"Order has been updated",unknownError:"Unknown mistake",updateSuccess:"Successfully modified",toggleLang:"Switch to English"},modeSetting:{color:"Theme",dark:"Dark",follow:"Follow system",title:"Color"},placeholder:{enginePrefix:"Quickly switch engines by prefix"},popover:{enginePrefix:"When searching, enter a custom prefix and press the space, you can immediately switch to the current engine",engineSuffix:"When searching, the custom suffix will be added to the end of the search path"},rules:{engineNameEmpty:"Please enter the search engine name",engineNameLength:"1 to 20 characters in length",enginePrefixExist:"The prefix already exists",enginePrefixLength:"1 to 20 characters in length",engineSuffixLength:"Single length is 1 to 10 characters",engineSuffixNum:"Up to five",engineUrlEmpty:"Please enter the search path prefix"},settingActions:{desc:"To prevent configuration loss, please save the configuration file properly",exportButton:"Export",generated:"Configuration file has been generated",generating:"Building...",importButton:"Import",title:"Import and export configuration"},sortEngineSetting:{desc:"Drag the right button up and down to sort",title:"Sort"},switch:{defaultTheme:"Default"},title:{add:"Add",edit:"modify",settings:"Set up",tip:"Prompt",warn:"Warn"},visibilitySetting:{desc:"You can set the visibility of some elements here",homeEngines:"Homepage search engine button",homeSettingButton:"Settings button in the upper right corner of the homepage",title:"Show and hide",homeLangButton:"Home language switch button"}},Ie=Be.backgroundSetting,Pe=Be.button,Ge=Be.colorPicker,Ne=Be.dialog,Oe=Be.editEngineSetting,Ae=Be.message,ze=Be.modeSetting,qe=Be.placeholder,Fe=Be.popover,Me=Be.rules,je=Be.settingActions,Je=Be.sortEngineSetting,Ve=Be.title,He=Be.visibilitySetting,$e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Be,backgroundSetting:Ie,button:Pe,colorPicker:Ge,dialog:Ne,editEngineSetting:Oe,message:Ae,modeSetting:ze,placeholder:qe,popover:Fe,rules:Me,settingActions:je,sortEngineSetting:Je,title:Ve,visibilitySetting:He}),Re={title:{settings:"设置",tip:"提示",warn:"警告",add:"新增",edit:"修改"},button:{submit:"确定",cancel:"取消",continue:"继续"},switch:{defaultTheme:"设为默认"},colorPicker:{engineColorLabel:"显示颜色"},dialog:{settingActionsDesc:"导入的配置将会覆盖所有当前配置"},message:{addSuccess:"添加成功",delSuccess:"删除成功",updateSuccess:"修改成功",clear:"已清除",noDelDefaultEngine:"不可以删除默认搜索引擎",imgFormatError:"只能选择 png 或 jpg 格式的图片文件，请重新选择",sizeOverflow:"只能选择小于 2M 的图片，请重新选择",sortSuccess:"顺序已更新",unknownError:"未知错误",importSuccess:"导入配置成功",toggleLang:"切换到中文"},rules:{engineNameEmpty:"请输入搜索引擎名称",engineNameLength:"长度在 1 到 20 个字符",engineUrlEmpty:"请输入搜索路径前缀",enginePrefixLength:"长度在 1 到 20 个字符",enginePrefixExist:"该前缀已经存在",engineSuffixLength:"单个长度在 1 到 10 个字符",engineSuffixNum:"最多五个"},editEngineSetting:{title:"编辑引擎",desc:"点击 x 以删除，点击名称进入编辑",deleteTip:"要删除该搜索引擎吗？",nameInputLabel:"引擎名称",urlInputLabel:"基础路径",placeholderInputLabel:"提示文本",prefixInputLabel:"快捷前缀",suffixInputLabel:"规则后缀",example:"例如"},sortEngineSetting:{title:"排序",desc:"上下拖动右侧按钮以排序"},modeSetting:{title:"颜色模式",dark:"深色模式",follow:"跟随系统",color:"主题风格"},backgroundSetting:{title:"背景图片",desc:"限于浏览器存储能力，请选择小于 2M 的图片，格式为 png 或 jpg",choose:"选择图片"},visibilitySetting:{title:"显示与隐藏",desc:"你可以在这里设置一些元素的可见性",homeEngines:"首页搜索引擎按钮",homeSettingButton:"首页右上角设置按钮",homeLangButton:"首页语言切换按钮"},settingActions:{title:"导入与导出",desc:"为防止配置丢失，请务必妥善保存配置文件",importButton:"导入配置",exportButton:"导出配置",generating:"生成中...",generated:"配置文件已生成"},popover:{enginePrefix:"在搜索时，输入自定义前缀并按下空格，就能立即切换到当前引擎",engineSuffix:"在搜索时，自定义后缀将会添加到搜索路径最后面"},placeholder:{enginePrefix:"通过前缀快速切换引擎"}},We=Re.title,Ke=Re.button,Ye=Re.colorPicker,Qe=Re.dialog,Xe=Re.message,Ze=Re.rules,et=Re.editEngineSetting,tt=Re.sortEngineSetting,at=Re.modeSetting,nt=Re.backgroundSetting,lt=Re.visibilitySetting,it=Re.settingActions,ot=Re.popover,st=Re.placeholder,rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Re,title:We,button:Ke,colorPicker:Ye,dialog:Qe,message:Xe,rules:Ze,editEngineSetting:et,sortEngineSetting:tt,modeSetting:at,backgroundSetting:nt,visibilitySetting:lt,settingActions:it,popover:ot,placeholder:st});const ut=[{id:1,name:"Baidu",baseUrl:"https://www.baidu.com/s?ie=UTF-8&wd=",placeholderText:"百度一下，你就知道",hotkeys:"ctrl+a",color:"#4E6EF2",category:1,isDefault:!0,prefix:"bd",suffix:[]},{id:2,name:"Bing",baseUrl:"https://cn.bing.com/search?FORM=BESBTB&q=",placeholderText:"Microsoft Bing",hotkeys:"ctrl+f2",color:"#0c8484",category:1,isDefault:!1,prefix:"bing",suffix:[]},{id:3,name:"Google",baseUrl:"https://www.google.com/search?q=",placeholderText:"Google Search",hotkeys:"f3",color:"#FBBC05",category:1,isDefault:!1,prefix:"gg",suffix:[]},{id:4,name:"Sougou",baseUrl:"https://www.sogou.com/web?query=",placeholderText:"上网从搜狗开始",hotkeys:"f4",color:"#ff6f17",category:1,isDefault:!1,prefix:"sg",suffix:[]},{id:5,name:"NPM",baseUrl:"https://www.npmjs.com/search?q=",placeholderText:"Build amazing things",hotkeys:"f5",color:"#ea4335",category:1,isDefault:!1,prefix:"npm",suffix:[]},{id:6,name:"Github",baseUrl:"https://github.com/search?q=",placeholderText:"Where the world builds software",hotkeys:"f6",color:"#95E9D9",category:1,isDefault:!1,prefix:"gh",suffix:[]},{id:7,name:"Yuque",baseUrl:"https://yuque.com/search?related=true&q=",placeholderText:"专业的云端知识库",hotkeys:"f6",color:"#28c46f",category:1,isDefault:!1,prefix:"yq",suffix:[]},{id:8,name:"中 ⇆ 英",baseUrl:"https://fanyi.baidu.com/translate#en/zh/",placeholderText:"百度翻译",hotkeys:"f4",color:"#4395FF",category:1,isDefault:!1,prefix:"fy",suffix:[]}],ct=["homeEngines","homeSettingButton","homeLangButton"];!function(){const e={theme:"light",primaryColor:"#3051ff",visibleList:ct,enginesData:ut,homeBackground:"",followSystemTheme:false,lang:"zh-CN"};for(const[t,a]of Object.entries(e))null===localStorage.getItem(t)&&localStorage.setItem(t,JSON.stringify(a))}();const dt=JSON.parse(localStorage.theme),gt=JSON.parse(localStorage.primaryColor),mt=JSON.parse(localStorage.enginesData),ft={theme:dt,primaryColor:gt,visibleList:JSON.parse(localStorage.visibleList),enginesData:mt,homeBackground:JSON.parse(localStorage.homeBackground),followSystemTheme:JSON.parse(localStorage.followSystemTheme),lang:JSON.parse(localStorage.lang)};function pt(e,t){var a=!1;"#"==e[0]&&(e=e.slice(1),a=!0);var n=parseInt(e,16),l=(n>>16)+t;l>255?l=255:l<0&&(l=0);var i=(n>>8&255)+t;i>255?i=255:i<0&&(i=0);var o=(255&n)+t;return o>255?o=255:o<0&&(o=0),(a?"#":"")+(o|i<<8|l<<16).toString(16)}var ht,vt;(vt=ht||(ht={})).UpdateTheme="UPDATE_THEME",vt.UpdatePrimaryColor="UPDATE_PRIMARY_COLOR",vt.CreateEngine="CREATE_ENGINE",vt.DeleteEngine="DELETE_ENGINE",vt.UpdateEnginesData="UPDATE_ENGINES_DATA",vt.ToggleVisible="TOGGLE_VISIBLE",vt.UpdateVisibleList="UPDATE_VISIBLE_LIST",vt.UpdateHomeBackground="UPDATE_HOME_BACKGROUND",vt.UpdateFollowSystemTheme="UPDATE_FOLLOW_THEME",vt.UpdateLang="UPDATE_LANG";const yt={[ht.UpdateTheme](e,t){e.theme=t,localStorage.setItem("theme",JSON.stringify(t))},[ht.UpdatePrimaryColor](e,t){e.primaryColor=t,localStorage.setItem("primaryColor",JSON.stringify(t))},[ht.CreateEngine](e,t){const a=e.enginesData;!0===t.isDefault&&a.map((e=>e.isDefault=!1)),a.push(t),e.enginesData=a,localStorage.setItem("enginesData",JSON.stringify(a))},[ht.DeleteEngine](e,t){const a=e.enginesData;a.forEach(((e,n)=>{if(e.id===t)return a.splice(n,1),void(localStorage.enginesData=JSON.stringify(a))}))},[ht.UpdateEnginesData](e,t){e.enginesData=t,localStorage.setItem("enginesData",JSON.stringify(t))},[ht.ToggleVisible](e,t){const a=e.visibleList;a.includes(t)?function(e,t){var a=e.indexOf(t);a>-1&&e.splice(a,1)}(a,t):a.push(t),localStorage.setItem("visibleList",JSON.stringify(a))},[ht.UpdateVisibleList](e,t){e.visibleList=t,localStorage.setItem("visibleList",JSON.stringify(t))},[ht.UpdateHomeBackground](e,t){e.homeBackground=t,localStorage.setItem("homeBackground",JSON.stringify(t))},[ht.UpdateFollowSystemTheme](e,t){e.followSystemTheme=t,localStorage.setItem("followSystemTheme",JSON.stringify(t))},[ht.UpdateLang](e,t){e.lang=t,localStorage.setItem("lang",JSON.stringify(t))}};var bt;(bt||(bt={})).UpdateEngine="UPDATE_ENGINE";const St=e({state:ft,mutations:yt,actions:{[bt.UpdateEngine]:({commit:e,state:t},a)=>new Promise(((n,l)=>{const{enginesData:i}=t,o=[];!0===a.isDefault&&i.map((e=>e.isDefault=!1)),i.forEach((t=>{var l,s;!1===a.isDefault&&t.id===a.id&&!0===t.isDefault&&(o.push({type:"error",content:"不能将默认搜索引擎取消"}),a.isDefault=!0),t.id===a.id&&(o.push({type:"success",content:"修改成功"}),n(o),l=t,s=a,Object.assign(l,s),e(ht.UpdateEnginesData,i))}))}))},getters:{GetTheme:e=>e.theme,GetEnginesData:e=>e.enginesData,GetDefaultEngineData:e=>e.enginesData.filter((e=>!0===e.isDefault))[0],GetEngineById:e=>t=>e.enginesData.filter((e=>e.id===t))[0],GetEngineByPrefix:e=>t=>e.enginesData.filter((e=>e.prefix===t))[0],GetVisibleList:e=>e.visibleList,GetHomeBackground:e=>e.homeBackground,GetFollowSystemTheme:e=>e.followSystemTheme,GetLang:e=>e.lang,GetPrimaryColor:e=>e.primaryColor},modules:{}});let xt;const wt={};var Et=t({emits:["change-engine"],setup(e,{emit:t}){const p=a(),h=n((()=>p.state.enginesData));return(e,a)=>{const n=m,p=f;return l(),i("div",null,[o(p,null,{default:s((()=>[(l(!0),i(r,null,u(g(h),((e,a)=>(l(),i(n,{key:a,color:e.color,onClick:a=>{return n=e.id,void t("change-engine",n);var n},ghost:"",size:"small"},{default:s((()=>[c(d(e.name),1)])),_:2},1032,["color","onClick"])))),128))])),_:1})])}}});const kt={class:"mx-auto mt-40 w-2/5 rounded-lg <md:w-4/5"};var _t=t({setup(e){const t=a(),m=p(t.getters.GetDefaultEngineData),L=p(""),D=p([]),U=p(),C=n((()=>t.getters.GetVisibleList.includes("homeEngines")));function B(e){U.value=e}function I(){const e=document.querySelector(".search-component"),t=document.querySelector(".icon-search"),a=m.value.color,n=function(e,t){if(9===e.length&&(e=e.substring(0,7)),/^rgb\(/.test(e))return e;if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;const a=parseInt("0x"+e.slice(1,3)),n=parseInt("0x"+e.slice(3,5)),l=parseInt("0x"+e.slice(5,7));return t?`rgba(${a},${n},${l},${t})`:`rgb(${a},${n},${l})`}(a,.3);e.style.borderColor=a,e.style.boxShadow=`0 0 0 3px ${n}`,t.style.color=a}function P(){var e;let t=`${null==(e=m.value)?void 0:e.baseUrl}${L.value}`;L.value.length&&D.value.length&&(t+=" "+D.value.join(" ")),window.open(t)}function G(e){!function(){const e=document.querySelector(".search-component"),t=document.querySelector(".icon-search");e.style.borderColor="",e.style.boxShadow="",t.style.color="gray"}()}function N(){L.value=""}function O(e){const a=t.getters.GetEngineById(e),n=document.querySelector(".search-component");m.value=a,I(),n.focus()}function A(){const e=L.value,a=e.indexOf(" "),n=e.substring(0,a);if(!n.length)return;if(l="prefix",i=n,!JSON.parse(localStorage.enginesData).filter((e=>e[l]===i)).length)return;var l,i;O(t.getters.GetEngineByPrefix(n).id),L.value=""}return h((()=>t.getters.GetHomeBackground),(e=>B(""!==e))),v((()=>{const e=document.querySelector(".search-component");setTimeout((()=>{e.focus()}),300),D.value=m.value.suffix,B(""!==t.getters.GetHomeBackground)})),h(m,(()=>{D.value=m.value.suffix})),(e,t)=>{const a=E,n=T,p=f;return l(),i("div",kt,[o("div",{class:["relative w-full flex items-center transform transition",{"translate-y-6":!g(C),"-translate-y-8":U.value}]},[o(a,{size:"20",class:"\r\n                    icon-search\r\n                    !absolute\r\n                    left-4\r\n                    cursor-pointer\r\n                    text-gray-500\r\n                    transition\r\n                ",onClick:P},{default:s((()=>[o(g(k))])),_:1}),y(o("input",{type:"text",class:["\r\n                    search-component\r\n                    px-10\r\n                    w-full\r\n                    h-10\r\n                    outline-none\r\n                    border-2 border-gray-500\r\n                    rounded-xl\r\n                    placeholder-gray-500\r\n                    transition\r\n                    dark:bg-gray-800\r\n                    dark:text-light-500\r\n                    dark:placeholder-gray-400\r\n                ",U.value&&["bg-[rgba(255,255,255,0.7)]","dark:bg-[rgba(0,0,0,0.7)]"]],"onUpdate:modelValue":t[1]||(t[1]=e=>L.value=e),placeholder:m.value.placeholderText,onKeyup:[S(P,["enter"]),S(A,["space"])],onFocus:I,onBlur:G},null,42,["placeholder","onKeyup"]),[[b,L.value]]),o("div",{class:"flex justify-center !absolute right-10 mb-2",style:{top:"7.8px"}},[o(p,null,{default:s((()=>[(l(!0),i(r,null,u(D.value,((e,t)=>(l(),i(n,{closable:"",size:"small",key:t,onClose:t=>{return a=e,void(D.value=D.value.filter((e=>e!==a)));var a}},{default:s((()=>[c(d(e),1)])),_:2},1032,["onClose"])))),128))])),_:1})],4),y(o(a,{size:"20",color:"red",class:"!absolute right-4 cursor-pointer",onClick:N},{default:s((()=>[o(g(_))])),_:1},512),[[x,""!==L.value]])],2),g(C)?(l(),i(Et,{key:0,class:["mt-4 transform transition",{"-translate-y-8":U.value}],onChangeEngine:O},null,8,["class"])):w("",!0)])}}}),Tt=t({props:{engineId:{type:Number,required:!0},showModal:{type:Boolean,required:!0},operateType:{type:[String,String],required:!0}},emits:["update:showModal"],setup(e,{emit:t}){const n=e,{t:r}=L(),u=a(),c=D(),m=p();let f=p();const v=p({name:[{required:!0,message:r("rules.engineNameEmpty"),trigger:"blur"},{min:1,max:20,message:r("rules.engineNameLength"),trigger:"blur"}],baseUrl:[{required:!0,message:r("rules.engineUrlEmpty"),trigger:"blur"}],prefix:[{min:1,max:20,message:r("rules.enginePrefixLength"),trigger:"blur"},{validator:function(e,t){const a=t.trim();return!u.state.enginesData.find((e=>{var t;return e.prefix===a&&e.id!==(null==(t=f.value)?void 0:t.id)}))},message:r("rules.enginePrefixExist"),trigger:["input","blur"]}],suffix:[{validator(e,t){if(t.length)return!(t[t.length-1].length>10)},message:r("rules.engineSuffixLength"),trigger:["input"]},{validator:(e,t)=>!(t.length>5),message:r("rules.engineSuffixNum"),trigger:["input","blur"]}]});function y(){m.value.validate().then((e=>{const a=f.value;var l;"add"==n.operateType?((l=a).id=(new Date).getTime(),u.commit(ht.CreateEngine,l),c.success(r("message.addSuccess")),t("update:showModal",!1)):function(e){u.dispatch(bt.UpdateEngine,e).then((e=>{e.map((e=>{c[e.type](e.content)}))})),t("update:showModal",!1)}(a)})).catch((e=>{c.error(r("message.unknownError")+e)}))}function b(){t("update:showModal",!1)}function S(){t("update:showModal",!1)}function x(e){}return h((()=>n.showModal),(e=>{if(!0===e){const{engineId:e,operateType:t}=n;if("add"===t&&(f.value={id:0,name:"",baseUrl:"",placeholderText:"",hotkeys:"",color:"#000000",category:1,isDefault:!1,prefix:"",suffix:[]}),"edit"===t){const t=JSON.parse(localStorage.getItem("enginesData"));f.value=t.filter((t=>t.id===e))[0]}}})),(t,a)=>{const n=E,u=G,c=N,p=O,h=A,w=z,k=q,_=F,T=U;return l(),i(T,{preset:"dialog","positive-text":g(r)("button.submit"),"negative-text":g(r)("button.cancel"),closable:!0,show:e.showModal,title:"add"===e.operateType?g(r)("title.add"):g(r)("title.edit"),"mask-closable":!0,"display-directive":"show",onPositiveClick:y,onNegativeClick:b,onClose:S,"onUpdate:show":x},{icon:s((()=>[o(n,{size:"20"},{default:s((()=>[(l(),i(C("add"===e.operateType?g(B):g(I))))])),_:1})])),default:s((()=>[o(_,{ref:m,model:g(f),rules:v.value,"label-width":"80","label-placement":"left","label-align":"left"},{default:s((()=>[o(c,{label:g(r)("editEngineSetting.nameInputLabel"),path:"name"},{default:s((()=>[o(u,{placeholder:g(r)("editEngineSetting.example")+"：Baidu",value:g(f).name,"onUpdate:value":a[1]||(a[1]=e=>g(f).name=e)},null,8,["placeholder","value"])])),_:1},8,["label"]),o(c,{label:g(r)("editEngineSetting.urlInputLabel"),path:"baseUrl"},{default:s((()=>[o(u,{placeholder:g(r)("editEngineSetting.example")+"：https://www.baidu.com/s?ie=UTF-8&wd=",value:g(f).baseUrl,"onUpdate:value":a[2]||(a[2]=e=>g(f).baseUrl=e)},null,8,["placeholder","value"])])),_:1},8,["label"]),o(c,{label:g(r)("editEngineSetting.placeholderInputLabel"),path:"placeholderText"},{default:s((()=>[o(u,{placeholder:g(r)("editEngineSetting.example")+"：百度一下，你就知道",value:g(f).placeholderText,"onUpdate:value":a[3]||(a[3]=e=>g(f).placeholderText=e)},null,8,["placeholder","value"])])),_:1},8,["label"]),o(c,{"label-style":{display:"flex",alignItems:"center"},path:"prefix"},{label:s((()=>[o("span",null,d(g(r)("editEngineSetting.prefixInputLabel")),1),o(p,{trigger:"hover",style:{width:"200px"}},{trigger:s((()=>[o(n,{class:"ml-1 text-gray-400 cursor-pointer",size:"20"},{default:s((()=>[o(g(P))])),_:1})])),default:s((()=>[o("span",null,d(g(r)("popover.enginePrefix")),1)])),_:1})])),default:s((()=>[o(u,{placeholder:g(r)("placeholder.enginePrefix"),value:g(f).prefix,"onUpdate:value":a[4]||(a[4]=e=>g(f).prefix=e)},null,8,["placeholder","value"])])),_:1}),o(c,{"label-style":{display:"flex",alignItems:"center"},path:"suffix"},{label:s((()=>[o("span",null,d(g(r)("editEngineSetting.suffixInputLabel")),1),o(p,{trigger:"hover",style:{width:"200px"}},{trigger:s((()=>[o(n,{class:"ml-1 text-gray-400 cursor-pointer",size:"20"},{default:s((()=>[o(g(P))])),_:1})])),default:s((()=>[o("span",null,d(g(r)("popover.engineSuffix")),1)])),_:1})])),default:s((()=>[o(h,{value:g(f).suffix,"onUpdate:value":a[5]||(a[5]=e=>g(f).suffix=e)},null,8,["value"])])),_:1}),o(c,{label:g(r)("switch.defaultTheme"),path:"isDefault"},{default:s((()=>[o(w,{value:g(f).isDefault,"onUpdate:value":a[6]||(a[6]=e=>g(f).isDefault=e)},null,8,["value"])])),_:1},8,["label"]),o(c,{label:g(r)("colorPicker.engineColorLabel"),path:"color"},{default:s((()=>[o(k,{value:g(f).color,"onUpdate:value":a[7]||(a[7]=e=>g(f).color=e),modes:["hex"]},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model","rules"])])),_:1},8,["positive-text","negative-text","show","title"])}}});const Lt={class:"flex items-center"},Dt={class:"ml-2 text-sm"},Ut={key:0};var Ct=t({props:{title:{type:String,required:!0},desc:{type:String,required:!1}},setup:e=>(t,a)=>{const n=E,r=O,u=M;return l(),i(u,{bordered:!1},{header:s((()=>{var a;return[o("div",Lt,[j(t.$slots,"icon"),o("span",Dt,d(e.title),1),(null==(a=e.desc)?void 0:a.length)?(l(),i(r,{key:0,trigger:"hover",style:{width:"200px"}},{trigger:s((()=>[o(n,{class:"ml-1 text-gray-400",size:"16"},{default:s((()=>[o(g(P))])),_:1})])),default:s((()=>[e.desc?(l(),i("span",Ut,d(e.desc),1)):w("",!0)])),_:1})):w("",!0)])]})),default:s((()=>[j(t.$slots,"default")])),_:3})}}),Bt=t({setup(e){const{t:t}=L(),h=a(),v=D(),y=p(!1),b=n((()=>h.state.enginesData)),S=p("add"),x=p(0);function w(){S.value="add",x.value=0,y.value=!0}return(e,a)=>{const n=E,p=E,k=$,T=m,L=f;return l(),i(r,null,[o(Ct,{title:g(t)("editEngineSetting.title"),desc:g(t)("editEngineSetting.desc")},{icon:s((()=>[o(n,null,{default:s((()=>[o(g(J))])),_:1})])),default:s((()=>[o(L,null,{default:s((()=>[(l(!0),i(r,null,u(g(b),(e=>(l(),i(T,{size:"small",ghost:"",color:e.color,key:e.id},{default:s((()=>[o("span",{onClick:t=>{return a=e.id,S.value="edit",x.value=a,void(y.value=!0);var a}},d(e.name),9,["onClick"]),o(k,{iconColor:"red",confirmButtonText:g(t)("button.submit"),cancelButtonText:g(t)("button.cancel"),"positive-text":g(t)("button.submit"),"negative-text":g(t)("button.cancel"),onPositiveClick:V((a=>function(e){const{id:a,isDefault:n}=e;n?v.error(t("message.noDelDefaultEngine")):(h.commit(ht.DeleteEngine,a),v.success(t("message.delSuccess")))}(e)),["stop"])},{icon:s((()=>[o(p,{color:"red"},{default:s((()=>[o(g(H))])),_:1})])),trigger:s((()=>[o(p,{size:"20",class:"ml-1 hover:text-red-500"},{default:s((()=>[o(g(_))])),_:1})])),default:s((()=>[c(" "+d(g(t)("editEngineSetting.deleteTip")),1)])),_:2},1032,["confirmButtonText","cancelButtonText","positive-text","negative-text","onPositiveClick"])])),_:2},1032,["color"])))),128)),o(T,{size:"small",onClick:w},{icon:s((()=>[o(p,null,{default:s((()=>[o(g(B))])),_:1})])),_:1})])),_:1})])),_:1},8,["title","desc"]),o(Tt,{showModal:y.value,"onUpdate:showModal":a[1]||(a[1]=e=>y.value=e),operateType:S.value,engineId:x.value},null,8,["showModal","operateType","engineId"])],64)}}});const It={class:"flex"};var Pt=t({props:{color:{type:Array,required:!0}},emits:["change-color"],setup:(e,{emit:t})=>(a,n)=>(l(),i("div",It,[(l(!0),i(r,null,u(e.color,((e,a)=>(l(),i("div",{class:"w-8 h-8 rounded ml-2 cursor-pointer",key:a,style:{background:e.value},onClick:a=>{t("change-color",e)}},null,12,["onClick"])))),128))]))});const Gt={class:"flex justify-between"},Nt={class:"flex justify-between"},Ot={class:"flex justify-between items-center"};var At=t({setup(e){const{t:t}=L(),n=a(),r=p(n.state.followSystemTheme),u=p(!1),c=p(!1),m=[{value:"#3051ff",label:""},{value:"#28C46F",label:""},{value:"#fa506e",label:""},{value:"#ffc529",label:""},{value:"#009688",label:""}];function f(e){u.value="dark"===e}function y(e){c.value=e}function b(e){const{value:t}=e;n.commit(ht.UpdatePrimaryColor,t)}function S(e){n.commit(ht.UpdateTheme,e?"dark":"light")}function x(e){r.value=e,n.commit(ht.UpdateFollowSystemTheme,e)}return h((()=>n.getters.GetTheme),(e=>f(e))),h((()=>n.getters.GetFollowSystemTheme),(e=>y(e))),v((()=>{f(n.getters.GetTheme),y(n.getters.GetFollowSystemTheme)})),(e,a)=>{const n=E,f=z,p=W,h=K;return l(),i(Ct,{title:g(t)("modeSetting.title")},{icon:s((()=>[o(n,null,{default:s((()=>[o(g(R))])),_:1})])),default:s((()=>[o(h,{bordered:""},{default:s((()=>[o(p,null,{default:s((()=>[o("div",Gt,[o("div",null,d(g(t)("modeSetting.dark")),1),o(f,{value:u.value,"onUpdate:value":[a[1]||(a[1]=e=>u.value=e),S],disabled:r.value},null,8,["value","disabled"])])])),_:1}),o(p,null,{default:s((()=>[o("div",Nt,[o("div",null,d(g(t)("modeSetting.follow")),1),o(f,{value:c.value,"onUpdate:value":[a[2]||(a[2]=e=>c.value=e),x]},null,8,["value"])])])),_:1}),o(p,null,{default:s((()=>[o("div",Ot,[o("div",null,d(g(t)("modeSetting.color")),1),o(Pt,{class:"ml-auto",color:m,onChangeColor:b})])])),_:1})])),_:1})])),_:1},8,["title"])}}}),zt=t({setup(e){const{t:t}=L(),r=D(),u=a(),f=p(!1),h=n({get:()=>u.state.enginesData,set(e){u.commit(ht.UpdateEnginesData,e),r.success(t("message.sortSuccess"))}}),v=n((()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"})));return(e,a)=>{const n=E,r=m,u=E,p=W,y=K;return l(),i(Ct,{title:g(t)("sortEngineSetting.title"),desc:g(t)("sortEngineSetting.desc")},{icon:s((()=>[o(n,null,{default:s((()=>[o(g(Y))])),_:1})])),default:s((()=>[o(y,{class:"my-0 min-w-full"},{default:s((()=>[o(g(Q),X({tag:"transition-group","component-data":{type:"transition-group",name:f.value?null:"flip-list"},modelValue:g(h),"onUpdate:modelValue":a[1]||(a[1]=e=>Z(h)?h.value=e:null)},g(v),{onStart:a[2]||(a[2]=e=>f.value=!0),onEnd:a[3]||(a[3]=e=>f.value=!1),"item-key":"id"}),{item:s((({element:e})=>[o(p,{class:"!py-2 cursor-move"},{suffix:s((()=>[o(u,{size:"20",class:"ml-1",color:e.color},{default:s((()=>[o(g(ee))])),_:2},1032,["color"])])),default:s((()=>[o(r,{text:"",color:e.color},{default:s((()=>[c(d(e.name),1)])),_:2},1032,["color"])])),_:2},1024)])),_:1},16,["component-data","modelValue"])])),_:1})])),_:1},8,["title","desc"])}}});const qt=re();ue("data-v-97bcd5a6");const Ft={class:"flex"},Mt=o("input",{type:"file",id:"file-input",class:"hidden"},null,-1),jt={class:"flex flex-col justify-center items-center my-8 mx-auto"},Jt={class:"mt-8"};ce();var Vt=t({setup(e){const{t:t}=L(),n=te(),s=a(),u=ae(),f=p(!1),h=p(!0);function y(){const{getters:e}=s,t={theme:e.GetTheme,primaryColor:e.GetPrimaryColor,visibleList:e.GetVisibleList,followSystemTheme:e.GetFollowSystemTheme,lang:e.GetLang,homeBackground:e.GetHomeBackground,enginesData:e.GetEnginesData},a=new Blob([JSON.stringify(t)],{type:""});de.exports.saveAs(a,`tinytab.settings.${(new Date).getTime()}.json`),setTimeout((()=>{h.value=!1}),500),f.value=!0}function b(){const e=document.getElementById("file-input");n.warning({title:t("title.warn"),content:t("dialog.settingActionsDesc"),positiveText:t("button.continue"),negativeText:t("button.cancel"),onPositiveClick:()=>null==e?void 0:e.click()})}function S(e){!1===e&&setTimeout((()=>{h.value=!0}),500)}function x(e){const a=e.target.files[0];a&&ge.readAsText(a).then((e=>{const a=JSON.parse(e),n={enginesData:a.enginesData||[],theme:a.theme||"light",primaryColor:a.primaryColor||"#3051ff",homeBackground:a.homeBackground||"",followSystemTheme:a.followSystemTheme||false,visibleList:a.visibleList||ct,lang:a.lang||"zh-CN"};s.commit(ht.UpdateEnginesData,n.enginesData),s.commit(ht.UpdateTheme,n.theme),s.commit(ht.UpdatePrimaryColor,n.primaryColor),s.commit(ht.UpdateHomeBackground,n.homeBackground),s.commit(ht.UpdateFollowSystemTheme,n.followSystemTheme),s.commit(ht.UpdateVisibleList,n.visibleList),s.commit(ht.UpdateLang,n.lang),u.success({content:t("message.importSuccess"),meta:t("title.tip"),duration:3e3})})).catch((e=>{u.error({content:t("message.unknownError"),meta:t("title.tip"),duration:3e3})}))}return v((()=>{const e=document.getElementById("file-input");null==e||e.addEventListener("change",x,!1)})),(e,a)=>{const n=E,s=E,u=m,p=U;return l(),i(r,null,[o(Ct,{title:g(t)("settingActions.title"),desc:g(t)("settingActions.desc")},{icon:qt((()=>[o(n,null,{default:qt((()=>[o(g(ne))])),_:1})])),default:qt((()=>[o("div",Ft,[o(u,{onClick:b,class:"flex-1 mr-2"},{icon:qt((()=>[o(s,null,{default:qt((()=>[o(g(le))])),_:1})])),default:qt((()=>[c(" "+d(g(t)("settingActions.importButton")),1)])),_:1}),o(u,{type:"primary",onClick:y,class:"flex-1 ml-2"},{icon:qt((()=>[o(s,null,{default:qt((()=>[o(g(ie))])),_:1})])),default:qt((()=>[c(" "+d(g(t)("settingActions.exportButton")),1)])),_:1})])])),_:1},8,["title","desc"]),Mt,o(p,{preset:"card",title:"导出配置",size:"huge",show:f.value,"onUpdate:show":[a[1]||(a[1]=e=>f.value=e),S],style:{width:"460px",marginTop:"100px"},bordered:!1,"mask-closable":!0},{default:qt((()=>[o("div",jt,[o(s,{size:"30",color:"#34AC69"},{default:qt((()=>[(l(),i(C(h.value?g(oe):g(se)),{class:{spin:h.value}},null,8,["class"]))])),_:1}),o("div",Jt,d(h.value?g(t)("settingActions.generating"):g(t)("settingActions.generated")),1)])])),_:1},8,["show"])],64)}}});Vt.__scopeId="data-v-97bcd5a6";const Ht={class:"flex justify-between"},$t={class:"flex justify-between"},Rt={class:"flex justify-between"};var Wt=t({setup(e){const{t:t}=L(),n=a(),r=p(!1),u=p(!1),c=p(!1);function m(e){n.commit(ht.ToggleVisible,e)}function f(e){r.value=e.includes("homeEngines"),u.value=e.includes("homeSettingButton"),c.value=e.includes("homeLangButton")}return h((()=>n.getters.GetVisibleList),(e=>f(e))),v((()=>f(n.getters.GetVisibleList))),(e,a)=>{const n=E,f=z,p=W,h=K;return l(),i(Ct,{title:g(t)("visibilitySetting.title"),desc:g(t)("visibilitySetting.desc")},{icon:s((()=>[o(n,null,{default:s((()=>[o(g(me))])),_:1})])),default:s((()=>[o(h,{bordered:""},{default:s((()=>[o(p,null,{default:s((()=>[o("div",Ht,[o("div",null,d(g(t)("visibilitySetting.homeEngines")),1),o(f,{value:r.value,"onUpdate:value":[a[1]||(a[1]=e=>r.value=e),a[2]||(a[2]=e=>m("homeEngines"))]},null,8,["value"])])])),_:1}),o(p,null,{default:s((()=>[o("div",$t,[o("div",null,d(g(t)("visibilitySetting.homeSettingButton")),1),o(f,{value:u.value,"onUpdate:value":[a[3]||(a[3]=e=>u.value=e),a[4]||(a[4]=e=>m("homeSettingButton"))]},null,8,["value"])])])),_:1}),o(p,null,{default:s((()=>[o("div",Rt,[o("div",null,d(g(t)("visibilitySetting.homeLangButton")),1),o(f,{value:c.value,"onUpdate:value":[a[5]||(a[5]=e=>c.value=e),a[6]||(a[6]=e=>m("homeLangButton"))]},null,8,["value"])])])),_:1})])),_:1})])),_:1},8,["title","desc"])}}}),Kt=t({setup(e){const{t:t}=L(),n=a(),r=D(),u=p();async function f({file:e,fileList:a}){const n=e.file.size;let l=e.file.type;return l=l.substring(l.lastIndexOf("/")+1,l.length),["png","jpeg"].includes(l)?!(n>2048e3)||(r.error(t("message.sizeOverflow")),!1):(r.error(t("message.imgFormatError")),!1)}async function y({file:e,fileList:a}){const l=await function(e){return new Promise(((t,a)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=e=>a(e)}))}(e.file);S(l),n.commit(ht.UpdateHomeBackground,l),r.success(t("message.updateSuccess"))}function b(){S(""),n.commit(ht.UpdateHomeBackground,""),r.success(t("message.clear"))}function S(e){u.value=e}return h((()=>n.getters.GetHomeBackground),(e=>S(e))),v((()=>{S(n.getters.GetHomeBackground)})),(e,a)=>{const n=E,r=W,p=m,h=he,v=K;return l(),i(Ct,{title:g(t)("backgroundSetting.title"),desc:g(t)("backgroundSetting.desc")},{icon:s((()=>[o(n,null,{default:s((()=>[o(g(fe))])),_:1})])),default:s((()=>[o(v,{class:"my-0 min-w-full"},{default:s((()=>[u.value?(l(),i(r,{key:0,class:"relative !border-0"},{default:s((()=>[o("img",{width:"335.2",height:"200",class:"rounded",src:u.value},null,8,["src"]),o(n,{size:"30",class:"!absolute top-4 right-2 cursor-pointer text-red-500",onClick:b},{default:s((()=>[o(g(pe))])),_:1})])),_:1})):w("",!0),o(r,null,{default:s((()=>[o(h,{class:"setting-upload-button flex",multiple:"","default-upload":!1,"file-list-style":{display:"none"},onChange:y,onBeforeUpload:f},{default:s((()=>[o(p,{class:"!w-full",size:"large"},{default:s((()=>[c(d(g(t)("backgroundSetting.choose")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["title","desc"])}}});const Yt={class:"!absolute top-6 right-6 flex"},Qt={class:"flex items-center"};var Xt=t({setup(e){const t=D(),{t:u,locale:c}=L(),m=a(),f=p(!1),y=n((()=>m.getters.GetVisibleList.includes("homeSettingButton"))),b=n((()=>m.getters.GetVisibleList.includes("homeLangButton")));function S(){const e=m.getters.GetLang;m.commit(ht.UpdateLang,"en"===e?"zh-CN":"en")}return h((()=>m.getters.GetLang),(e=>{c.value=e,t.info(u("message.toggleLang"))})),v((()=>{c.value=m.getters.GetLang})),(e,t)=>{const a=E,n=Se,c=ve;return l(),i(r,null,[o("div",Yt,[o("div",{class:"mr-2 text-center w-8 h-8 leading-10 cursor-pointer",onClick:S},[o("div",{class:{hidden:!g(b)}},[o(a,{size:"20",class:"text-bg-dark-100 dark:text-gray-500"},{default:s((()=>[o(g(ye))])),_:1})],2)]),o("div",{class:"group text-center w-8 h-8 leading-10 cursor-pointer",onClick:t[1]||(t[1]=e=>f.value=!0)},[o("div",{class:["group-hover:block",{hidden:!g(y)}]},[o(a,{size:"20",class:"text-bg-dark-100 dark:text-gray-500"},{default:s((()=>[o(g(be))])),_:1})],2)])]),o(c,{placement:"right",class:"cus-drawer",show:f.value,"onUpdate:show":t[2]||(t[2]=e=>f.value=e),width:400},{default:s((()=>[o(n,{"body-content-style":"padding:0;",closable:""},{header:s((()=>[o("div",Qt,[o("span",null,d(g(u)("title.settings")),1)])])),default:s((()=>[o(Bt),o(zt),o(At),o(Kt),o(Wt),o(Vt)])),_:1})])),_:1},8,["show"])],64)}}});const Zt=[{path:"/",name:"Home",component:t({setup:e=>(e,t)=>(l(),i(r,null,[o(_t),o(Xt)],64))})},{path:"/about",name:"About",component:()=>function(e,t){if(!t)return e();if(void 0===xt){const e=document.createElement("link").relList;xt=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in wt)return;wt[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":xt,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>import("./About.0fed89d6.js")),["./assets/About.0fed89d6.js","./assets/vendor.fce71c70.js"])}],ea=xe({history:we(),routes:Zt});var ta=t({setup(e){const t=a(),n=p(),r=p({});function u(e){const{classList:t}=document.documentElement;n.value="dark"===e?ke:void 0,t.remove("dark"===e?"light":"dark"),t.add(e)}function c(e){r.value={common:{primaryColor:e,primaryColorHover:pt(e,20),primaryColorPressed:pt(e,-20)},Switch:{railColorActive:e}}}function d(e){document.querySelector("#app").style.backgroundImage=`url(${e})`}function m(){u(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function f(){const e=window.matchMedia("(prefers-color-scheme: dark)");"function"==typeof e.addEventListener&&e.addEventListener("change",(e=>{t.getters.GetFollowSystemTheme?u("dark"):u("light")}))}return h((()=>t.state.primaryColor),(e=>c(e))),h((()=>t.state.theme),(e=>u(e))),h((()=>t.state.homeBackground),(e=>d(e))),h((()=>t.getters.GetFollowSystemTheme),(e=>{if(e)m(),f();else{u(t.state.theme)}})),v((()=>{if(f(),t.getters.GetFollowSystemTheme)return m(),!1;u(t.state.theme),c(t.state.primaryColor),d(t.state.homeBackground)})),(e,t)=>{const a=_e("router-view"),u=Te,c=Le,d=De;return l(),i(g(Ee),{theme:n.value,"theme-overrides":r.value},{default:s((()=>[o(d,null,{default:s((()=>[o(c,null,{default:s((()=>[o(u,null,{default:s((()=>[o(a)])),_:1})])),_:1})])),_:1})])),_:1},8,["theme","theme-overrides"])}}});const aa=Ue({legacy:!1,locale:"zh-CN",messages:Object.fromEntries(Object.entries({"../locales/en.yml":$e,"../locales/zh-CN.yml":rt}).map((([e,t])=>{const a=e.endsWith(".yaml");return[e.slice(11,a?-5:-4),t.default]})))});Ce(ta).use(St).use(ea).use(aa).mount("#app");
