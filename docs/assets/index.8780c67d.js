import{c as e,d as t,u as a,a as l,o as s,b as n,e as o,w as r,F as i,r as u,f as c,t as d,g as f,B as g,_ as m,h as p,i as h,j as v,k as y,v as b,l as x,m as w,n as _,p as k,S,C as T,q as E,s as D,x as U,y as C,A as B,E as O,I as N,z as L,D as I,G,H as J,J as q,K as P,L as A,M,N as z,O as V,P as F,T as j,Q as $,R as H,U as R,V as K,W,X as Y,Y as Q,Z as X,$ as Z,a0 as ee,a1 as te,a2 as ae,a3 as le,a4 as se,a5 as ne,a6 as oe,a7 as re,a8 as ie,a9 as ue,aa as ce,ab as de,ac as fe,ad as ge,ae as me,af as pe,ag as he,ah as ve,ai as ye,aj as be,ak as xe,al as we,am as _e,an as ke,ao as Se,ap as Te,aq as Ee,ar as De}from"./vendor.0b6229c3.js";const Ue=[{id:1,name:"Baidu",baseUrl:"https://www.baidu.com/s?ie=UTF-8&wd=",placeholderText:"百度一下，你就知道",hotkeys:"ctrl+a",color:"#4E6EF2",category:1,isDefault:!0,prefix:"bd",suffix:[]},{id:2,name:"Bing",baseUrl:"https://cn.bing.com/search?FORM=BESBTB&q=",placeholderText:"Microsoft Bing",hotkeys:"ctrl+f2",color:"#0c8484",category:1,isDefault:!1,prefix:"bing",suffix:[]},{id:3,name:"Google",baseUrl:"https://www.google.com/search?q=",placeholderText:"Google Search",hotkeys:"f3",color:"#FBBC05",category:1,isDefault:!1,prefix:"gg",suffix:[]},{id:4,name:"Sougou",baseUrl:"https://www.sogou.com/web?query=",placeholderText:"上网从搜狗开始",hotkeys:"f4",color:"#ff6f17",category:1,isDefault:!1,prefix:"sg",suffix:[]},{id:5,name:"NPM",baseUrl:"https://www.npmjs.com/search?q=",placeholderText:"Build amazing things",hotkeys:"f5",color:"#ea4335",category:1,isDefault:!1,prefix:"npm",suffix:[]},{id:6,name:"Github",baseUrl:"https://github.com/search?q=",placeholderText:"Where the world builds software",hotkeys:"f6",color:"#95E9D9",category:1,isDefault:!1,prefix:"gh",suffix:[]},{id:7,name:"Yuque",baseUrl:"https://yuque.com/search?related=true&q=",placeholderText:"专业的云端知识库",hotkeys:"f6",color:"#28c46f",category:1,isDefault:!1,prefix:"yq",suffix:[]},{id:8,name:"中 ⇆ 英",baseUrl:"https://fanyi.baidu.com/translate#en/zh/",placeholderText:"百度翻译",hotkeys:"f4",color:"#4395FF",category:1,isDefault:!1,prefix:"fy",suffix:[]}],Ce=["homeEngines","homeSettingButton"],Be="light",Oe="#3051ff",Ne="",Le=!1;!function(){const e={theme:Be,primaryColor:Oe,visibleList:Ce,enginesData:Ue,homeBackground:Ne,followTheme:Le};for(const[t,a]of Object.entries(e))null===localStorage.getItem(t)&&localStorage.setItem(t,JSON.stringify(a))}();const Ie=JSON.parse(localStorage.theme),Ge=JSON.parse(localStorage.primaryColor),Je=JSON.parse(localStorage.enginesData),qe={theme:Ie,primaryColor:Ge,visibleList:JSON.parse(localStorage.visibleList),enginesData:Je,homeBackground:JSON.parse(localStorage.homeBackground),followTheme:JSON.parse(localStorage.followTheme)};function Pe(e,t){var a=!1;"#"==e[0]&&(e=e.slice(1),a=!0);var l=parseInt(e,16),s=(l>>16)+t;s>255?s=255:s<0&&(s=0);var n=(l>>8&255)+t;n>255?n=255:n<0&&(n=0);var o=(255&l)+t;return o>255?o=255:o<0&&(o=0),(a?"#":"")+(o|n<<8|s<<16).toString(16)}var Ae,Me;(Me=Ae||(Ae={})).UpdateTheme="UPDATE_THEME",Me.UpdatePrimaryColor="UPDATE_PRIMARY_COLOR",Me.CreateEngine="CREATE_ENGINE",Me.DeleteEngine="DELETE_ENGINE",Me.UpdateEnginesData="UPDATE_ENGINES_DATA",Me.ToggleVisible="TOGGLE_VISIBLE",Me.UpdateVisibleList="UPDATE_VISIBLE_LIST",Me.UpdateHomeBackground="UPDATE_HOME_BACKGROUND",Me.UpdateFollowTheme="UPDATE_FOLLOW_THEME";const ze={[Ae.UpdateTheme](e,t){e.theme=t,localStorage.setItem("theme",JSON.stringify(t))},[Ae.UpdatePrimaryColor](e,t){e.primaryColor=t,localStorage.setItem("primaryColor",JSON.stringify(t))},[Ae.CreateEngine](e,t){const a=e.enginesData;!0===t.isDefault&&a.map((e=>e.isDefault=!1)),a.push(t),e.enginesData=a,localStorage.setItem("enginesData",JSON.stringify(a))},[Ae.DeleteEngine](e,t){const a=e.enginesData;a.forEach(((e,l)=>{if(e.id===t)return a.splice(l,1),void(localStorage.enginesData=JSON.stringify(a))}))},[Ae.UpdateEnginesData](e,t){e.enginesData=t,localStorage.setItem("enginesData",JSON.stringify(t))},[Ae.ToggleVisible](e,t){const a=e.visibleList;a.includes(t)?function(e,t){var a=e.indexOf(t);a>-1&&e.splice(a,1)}(a,t):a.push(t),localStorage.setItem("visibleList",JSON.stringify(a))},[Ae.UpdateVisibleList](e,t){e.visibleList=t,localStorage.setItem("visibleList",JSON.stringify(t))},[Ae.UpdateHomeBackground](e,t){e.homeBackground=t,localStorage.setItem("homeBackground",JSON.stringify(t))},[Ae.UpdateFollowTheme](e,t){e.followTheme=t,localStorage.setItem("followTheme",JSON.stringify(t))}};var Ve;(Ve||(Ve={})).UpdateEngine="UPDATE_ENGINE";const Fe=e({state:qe,mutations:ze,actions:{[Ve.UpdateEngine]:({commit:e,state:t},a)=>new Promise(((l,s)=>{const{enginesData:n}=t,o=[];!0===a.isDefault&&n.map((e=>e.isDefault=!1)),n.forEach((t=>{var s,r;!1===a.isDefault&&t.id===a.id&&!0===t.isDefault&&(o.push({type:"error",content:"不能将默认搜索引擎取消"}),a.isDefault=!0),t.id===a.id&&(o.push({type:"success",content:"修改成功"}),l(o),s=t,r=a,Object.assign(s,r),e(Ae.UpdateEnginesData,n))}))}))},getters:{GetTheme:e=>e.theme,GetDefaultEngineData:e=>e.enginesData.filter((e=>!0===e.isDefault))[0],GetEngineById:e=>t=>e.enginesData.filter((e=>e.id===t))[0],GetEngineByPrefix:e=>t=>e.enginesData.filter((e=>e.prefix===t))[0],GetVisibleList:e=>e.visibleList,GetHomeBackground:e=>e.homeBackground,GetFollowTheme:e=>e.followTheme},modules:{}});let je;const $e={};var He=t({emits:["change-engine"],setup(e,{emit:t}){const p=a(),h=l((()=>p.state.enginesData));return(e,a)=>{const l=g,p=m;return s(),n("div",null,[o(p,null,{default:r((()=>[(s(!0),n(i,null,u(f(h),((e,a)=>(s(),n(l,{key:a,color:e.color,onClick:a=>{return l=e.id,void t("change-engine",l);var l},ghost:"",size:"small"},{default:r((()=>[c(d(e.name),1)])),_:2},1032,["color","onClick"])))),128))])),_:1})])}}});const Re={class:"mx-auto mt-40 w-2/5 rounded-lg <md:w-4/5"};var Ke=t({setup(e){const t=a(),g=p(t.getters.GetDefaultEngineData),D=p(""),U=p([]),C=p(),B=l((()=>t.getters.GetVisibleList.includes("homeEngines")));function O(e){C.value=e}function N(){const e=document.querySelector(".search-component"),t=document.querySelector(".icon-search"),a=g.value.color,l=function(e,t){if(9===e.length&&(e=e.substring(0,7)),/^rgb\(/.test(e))return e;if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;const a=parseInt("0x"+e.slice(1,3)),l=parseInt("0x"+e.slice(3,5)),s=parseInt("0x"+e.slice(5,7));return t?`rgba(${a},${l},${s},${t})`:`rgb(${a},${l},${s})`}(a,.3);e.style.borderColor=a,e.style.boxShadow=`0 0 0 3px ${l}`,t.style.color=a}function L(){var e;let t=`${null==(e=g.value)?void 0:e.baseUrl}${D.value}`;D.value.length&&U.value.length&&(t+=" "+U.value.join(" ")),window.open(t)}function I(e){!function(){const e=document.querySelector(".search-component"),t=document.querySelector(".icon-search");e.style.borderColor="",e.style.boxShadow="",t.style.color="gray"}()}function G(){D.value=""}function J(e){const a=t.getters.GetEngineById(e),l=document.querySelector(".search-component");g.value=a,N(),l.focus()}function q(){const e=D.value,a=e.indexOf(" "),l=e.substring(0,a);if(!l.length)return;if(s="prefix",n=l,!JSON.parse(localStorage.enginesData).filter((e=>e[s]===n)).length)return;var s,n;J(t.getters.GetEngineByPrefix(l).id),D.value=""}return h((()=>t.getters.GetHomeBackground),(e=>O(""!==e))),v((()=>{const e=document.querySelector(".search-component");setTimeout((()=>{e.focus()}),300),U.value=g.value.suffix,O(""!==t.getters.GetHomeBackground)})),h(g,(()=>{U.value=g.value.suffix})),(e,t)=>{const a=k,l=E,p=m;return s(),n("div",Re,[o("div",{class:["relative w-full flex items-center transform transition",{"translate-y-6":!f(B),"-translate-y-8":C.value}]},[o(a,{size:"20",class:"\r\n                    icon-search\r\n                    !absolute\r\n                    left-4\r\n                    cursor-pointer\r\n                    text-gray-500\r\n                    transition\r\n                ",onClick:L},{default:r((()=>[o(f(S))])),_:1}),y(o("input",{type:"text",class:["\r\n                    search-component\r\n                    px-10\r\n                    w-full\r\n                    h-10\r\n                    outline-none\r\n                    border-2 border-gray-500\r\n                    rounded-xl\r\n                    placeholder-gray-500\r\n                    transition\r\n                    dark:bg-gray-800\r\n                    dark:text-light-500\r\n                    dark:placeholder-gray-400\r\n                ",C.value&&["bg-[rgba(255,255,255,0.7)]","dark:bg-[rgba(0,0,0,0.7)]"]],"onUpdate:modelValue":t[1]||(t[1]=e=>D.value=e),placeholder:g.value.placeholderText,onKeyup:[x(L,["enter"]),x(q,["space"])],onFocus:N,onBlur:I},null,42,["placeholder","onKeyup"]),[[b,D.value]]),o("div",{class:"flex justify-center !absolute right-10 mb-2",style:{top:"7.8px"}},[o(p,null,{default:r((()=>[(s(!0),n(i,null,u(U.value,((e,t)=>(s(),n(l,{closable:"",size:"small",key:t,onClose:t=>{return a=e,void(U.value=U.value.filter((e=>e!==a)));var a}},{default:r((()=>[c(d(e),1)])),_:2},1032,["onClose"])))),128))])),_:1})],4),y(o(a,{size:"20",color:"red",class:"!absolute right-4 cursor-pointer",onClick:G},{default:r((()=>[o(f(T))])),_:1},512),[[w,""!==D.value]])],2),f(B)?(s(),n(He,{key:0,class:["mt-4 transform transition",{"-translate-y-8":C.value}],onChangeEngine:J},null,8,["class"])):_("",!0)])}}});const We=o("span",null,"快捷前缀",-1),Ye=o("span",null,"在搜索时，输入自定义前缀并按下空格，就能立即切换到当前引擎。",-1),Qe=o("span",null,"规则后缀",-1),Xe=o("span",null,"在搜索时，自定义后缀将会添加到搜索路径最后面。",-1);var Ze=t({props:{engineId:{type:Number,required:!0},showModal:{type:Boolean,required:!0},operateType:{type:[String,String],required:!0}},emits:["update:showModal"],setup(e,{emit:t}){const l=e,i=a(),u=D(),c=p();let d=p();const g=p({name:[{required:!0,message:"请输入搜索引擎名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],baseUrl:[{required:!0,message:"请输入搜索路径前缀",trigger:"blur"}],prefix:[{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"},{validator:function(e,t){const a=t.trim();return!i.state.enginesData.find((e=>{var t;return e.prefix===a&&e.id!==(null==(t=d.value)?void 0:t.id)}))},message:"该前缀已经存在",trigger:["input","blur"]}],suffix:[{validator(e,t){if(t.length)return!(t[t.length-1].length>10)},message:"单个长度在 1 到 10 个字符",trigger:["input"]},{validator:(e,t)=>!(t.length>5),message:"最多五个",trigger:["input","blur"]}]});function m(){c.value.validate().then((e=>{const a=d.value;var s;"add"==l.operateType?((s=a).id=(new Date).getTime(),i.commit(Ae.CreateEngine,s),u.success("添加成功"),t("update:showModal",!1)):function(e){i.dispatch(Ve.UpdateEngine,e).then((e=>{e.map((e=>{u[e.type](e.content)}))})),t("update:showModal",!1)}(a)})).catch((e=>{u.error("未知错误 &{error}")}))}function v(){t("update:showModal",!1)}function y(){t("update:showModal",!1)}function b(e){}return h((()=>l.showModal),(e=>{if(!0===e){const{engineId:e,operateType:t}=l;if("add"===t&&(d.value={id:0,name:"",baseUrl:"",placeholderText:"",hotkeys:"",color:"#000000",category:1,isDefault:!1,prefix:"",suffix:[]}),"edit"===t){const t=JSON.parse(localStorage.getItem("enginesData"));d.value=t.filter((t=>t.id===e))[0]}}})),(t,a)=>{const l=k,i=L,u=I,p=G,h=J,x=q,w=P,_=A,S=U;return s(),n(S,{preset:"dialog","positive-text":"确认","negative-text":"取消",closable:!0,show:e.showModal,title:"add"===e.operateType?"新增":"修改","mask-closable":!0,"display-directive":"show",onPositiveClick:m,onNegativeClick:v,onClose:y,"onUpdate:show":b},{icon:r((()=>[o(l,{size:"20"},{default:r((()=>[(s(),n(C("add"===e.operateType?f(B):f(O))))])),_:1})])),default:r((()=>[o(_,{ref:c,model:f(d),rules:g.value,"label-width":"80","label-placement":"left","label-align":"left"},{default:r((()=>[o(u,{label:"引擎名称",path:"name"},{default:r((()=>[o(i,{placeholder:"例如：Baidu",value:f(d).name,"onUpdate:value":a[1]||(a[1]=e=>f(d).name=e)},null,8,["value"])])),_:1}),o(u,{label:"基础路径",path:"baseUrl"},{default:r((()=>[o(i,{placeholder:"例如：https://www.baidu.com/s?ie=UTF-8&wd=",value:f(d).baseUrl,"onUpdate:value":a[2]||(a[2]=e=>f(d).baseUrl=e)},null,8,["value"])])),_:1}),o(u,{label:"提示文本",path:"placeholderText"},{default:r((()=>[o(i,{placeholder:"例如：百度一下，你就知道",value:f(d).placeholderText,"onUpdate:value":a[3]||(a[3]=e=>f(d).placeholderText=e)},null,8,["value"])])),_:1}),o(u,{"label-style":{display:"flex",alignItems:"center"},path:"prefix"},{label:r((()=>[We,o(p,{trigger:"hover",style:{width:"200px"}},{trigger:r((()=>[o(l,{class:"text-gray-400 cursor-pointer",size:"20"},{default:r((()=>[o(f(N))])),_:1})])),default:r((()=>[Ye])),_:1})])),default:r((()=>[o(i,{placeholder:"通过前缀快速切换引擎",value:f(d).prefix,"onUpdate:value":a[4]||(a[4]=e=>f(d).prefix=e)},null,8,["value"])])),_:1}),o(u,{"label-style":{display:"flex",alignItems:"center"},path:"suffix"},{label:r((()=>[Qe,o(p,{trigger:"hover",style:{width:"200px"}},{trigger:r((()=>[o(l,{class:"text-gray-400 cursor-pointer",size:"20"},{default:r((()=>[o(f(N))])),_:1})])),default:r((()=>[Xe])),_:1})])),default:r((()=>[o(h,{value:f(d).suffix,"onUpdate:value":a[5]||(a[5]=e=>f(d).suffix=e)},null,8,["value"])])),_:1}),o(u,{label:"设为默认",path:"isDefault"},{default:r((()=>[o(x,{value:f(d).isDefault,"onUpdate:value":a[6]||(a[6]=e=>f(d).isDefault=e)},null,8,["value"])])),_:1}),o(u,{label:"显示颜色",path:"color"},{default:r((()=>[o(w,{value:f(d).color,"onUpdate:value":a[7]||(a[7]=e=>f(d).color=e),modes:["hex"]},null,8,["value"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["show","title"])}}});const et={class:"flex items-center"},tt={class:"ml-2 text-sm"},at={key:0};var lt=t({props:{title:{type:String,required:!0},desc:{type:String,required:!1}},setup:e=>(t,a)=>{const l=k,i=G,u=M;return s(),n(u,{bordered:!1},{header:r((()=>{var a;return[o("div",et,[z(t.$slots,"icon"),o("span",tt,d(e.title),1),(null==(a=e.desc)?void 0:a.length)?(s(),n(i,{key:0,trigger:"hover",style:{width:"200px"}},{trigger:r((()=>[o(l,{class:"ml-1 text-gray-400",size:"16"},{default:r((()=>[o(f(N))])),_:1})])),default:r((()=>[e.desc?(s(),n("span",at,d(e.desc),1)):_("",!0)])),_:1})):_("",!0)])]})),default:r((()=>[z(t.$slots,"default")])),_:3})}});const st=c(" 要删除这个搜索引擎吗 ");var nt=t({setup(e){const t=a(),c=D(),h=p(!1),v=l((()=>t.state.enginesData)),y=p("add"),b=p(0);function x(){y.value="add",b.value=0,h.value=!0}return(e,a)=>{const l=k,p=k,w=$,_=g,S=m;return s(),n(i,null,[o(lt,{title:"编辑引擎",desc:"点击 x 以删除，点击名称进入编辑"},{icon:r((()=>[o(l,null,{default:r((()=>[o(f(V))])),_:1})])),default:r((()=>[o(S,null,{default:r((()=>[(s(!0),n(i,null,u(f(v),(e=>(s(),n(_,{size:"small",ghost:"",color:e.color,key:e.id},{default:r((()=>[o("span",{onClick:t=>{return a=e.id,y.value="edit",b.value=a,void(h.value=!0);var a}},d(e.name),9,["onClick"]),o(w,{confirmButtonText:"确认",cancelButtonText:"取消",iconColor:"red",title:"要删除该搜索引擎吗？","positive-text":"确认","negative-text":"取消",onPositiveClick:F((a=>function(e){const{id:a,isDefault:l}=e;l?c.error("不可以删除默认搜索引擎"):(t.commit(Ae.DeleteEngine,a),c.success("删除成功"))}(e)),["stop"])},{icon:r((()=>[o(p,{color:"red"},{default:r((()=>[o(f(j))])),_:1})])),trigger:r((()=>[o(p,{size:"20",class:"ml-1 hover:text-red-500"},{default:r((()=>[o(f(T))])),_:1})])),default:r((()=>[st])),_:2},1032,["onPositiveClick"])])),_:2},1032,["color"])))),128)),o(_,{size:"small",onClick:x},{icon:r((()=>[o(p,null,{default:r((()=>[o(f(B))])),_:1})])),_:1})])),_:1})])),_:1}),o(Ze,{showModal:h.value,"onUpdate:showModal":a[1]||(a[1]=e=>h.value=e),operateType:y.value,engineId:b.value},null,8,["showModal","operateType","engineId"])],64)}}});const ot={class:"flex"};var rt=t({props:{color:{type:Array,required:!0}},emits:["change-color"],setup:(e,{emit:t})=>(a,l)=>(s(),n("div",ot,[(s(!0),n(i,null,u(e.color,((e,a)=>(s(),n("div",{class:"w-8 h-8 rounded ml-2 cursor-pointer",key:a,style:{background:e.value},onClick:a=>{t("change-color",e)}},null,12,["onClick"])))),128))]))});const it={class:"flex justify-between"},ut=o("div",null,"深色模式",-1),ct={class:"flex justify-between"},dt=o("div",null,"跟随系统",-1),ft={class:"flex justify-between items-center"},gt=o("div",null,"主题风格",-1);var mt=t({setup(e){const t=a(),l=[{value:"#3051ff",label:""},{value:"#28C46F",label:""},{value:"#fa506e",label:""},{value:"#ffc529",label:""},{value:"#009688",label:""}];function i(e){const{value:a}=e;t.commit(Ae.UpdatePrimaryColor,a)}const u="dark"===t.state.theme;function c(e){t.commit(Ae.UpdateTheme,e?"dark":"light")}const d=p(t.state.followTheme),g=t.state.followTheme;function m(e){d.value=e,t.commit(Ae.UpdateFollowTheme,e)}return(e,t)=>{const a=k,p=q,h=R,v=K;return s(),n(lt,{title:"颜色模式"},{icon:r((()=>[o(a,null,{default:r((()=>[o(f(H))])),_:1})])),default:r((()=>[o(v,{bordered:""},{default:r((()=>[o(h,null,{default:r((()=>[o("div",it,[ut,o(p,{disabled:d.value,"default-value":u,"onUpdate:value":c},null,8,["disabled"])])])),_:1}),o(h,null,{default:r((()=>[o("div",ct,[dt,o(p,{"default-value":f(g),"onUpdate:value":m},null,8,["default-value"])])])),_:1}),o(h,null,{default:r((()=>[o("div",ft,[gt,o(rt,{class:"ml-auto",color:l,onChangeColor:i})])])),_:1})])),_:1})])),_:1})}}}),pt=t({setup(e){const t=a(),i=p(!1),u=l({get:()=>t.state.enginesData,set(e){t.commit(Ae.UpdateEnginesData,e)}}),m=l((()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"})));return(e,t)=>{const a=k,l=g,p=k,h=R,v=K;return s(),n(lt,{title:"排序",desc:"上下拖动右侧按钮以排序"},{icon:r((()=>[o(a,null,{default:r((()=>[o(f(W))])),_:1})])),default:r((()=>[o(v,{class:"my-0 min-w-full"},{default:r((()=>[o(f(Y),Q({tag:"transition-group","component-data":{type:"transition-group",name:i.value?null:"flip-list"},modelValue:f(u),"onUpdate:modelValue":t[1]||(t[1]=e=>X(u)?u.value=e:null)},f(m),{onStart:t[2]||(t[2]=e=>i.value=!0),onEnd:t[3]||(t[3]=e=>i.value=!1),"item-key":"id"}),{item:r((({element:e})=>[o(h,{class:"!py-2 cursor-move"},{suffix:r((()=>[o(p,{size:"20",class:"ml-1",color:e.color},{default:r((()=>[o(f(Z))])),_:2},1032,["color"])])),default:r((()=>[o(l,{text:"",color:e.color},{default:r((()=>[c(d(e.name),1)])),_:2},1032,["color"])])),_:2},1024)])),_:1},16,["component-data","modelValue"])])),_:1})])),_:1})}}});const ht=re();ie("data-v-2de59dea");const vt={class:"flex"},yt=c(" 导入配置 "),bt=c(" 导出配置 "),xt=o("input",{type:"file",id:"file-input",class:"hidden"},null,-1),wt={class:"flex flex-col justify-center items-center my-8 mx-auto"},_t={class:"mt-8"};ue();var kt=t({setup(e){const t=ee(),l=a(),r=te(),u=p(!1),c=p(!0);function m(){const e={},{enginesData:t,theme:a,primaryColor:s,visibleList:n,homeBackground:o,followTheme:r}=l.state;e.theme=JSON.parse(JSON.stringify(a)),e.primaryColor=JSON.parse(JSON.stringify(s)),e.visibleList=JSON.parse(JSON.stringify(n)),e.homeBackground=JSON.parse(JSON.stringify(o)),e.enginesData=JSON.parse(JSON.stringify(t)),e.followTheme=JSON.parse(JSON.stringify(r));const i=new Blob([JSON.stringify(e)],{type:""});ce.exports.saveAs(i,`tinytab.settings.${(new Date).getTime()}.json`),setTimeout((()=>{c.value=!1}),500),u.value=!0}function h(){const e=document.getElementById("file-input");t.warning({title:"警告",content:"导入的配置将会覆盖所有当前配置",positiveText:"继续",negativeText:"取消",onPositiveClick:()=>null==e?void 0:e.click()})}function y(e){!1===e&&setTimeout((()=>{c.value=!0}),500)}return v((()=>{const e=document.getElementById("file-input");null==e||e.addEventListener("change",(function(e){const t=e.target.files[0];t&&de.readAsText(t).then((e=>{const t=JSON.parse(e),{enginesData:a,theme:s=Be,primaryColor:n=Oe,homeBackground:o=Ne,followTheme:i=Le,visibleList:u=Ce}=t;l.commit(Ae.UpdateEnginesData,a),l.commit(Ae.UpdateTheme,s),l.commit(Ae.UpdatePrimaryColor,n),l.commit(Ae.UpdateHomeBackground,o),l.commit(Ae.UpdateFollowTheme,i),l.commit(Ae.UpdateVisibleList,u),r.success({content:"导入配置成功",meta:"提示",duration:3e3})})).catch((e=>{r.error({content:"出现未知错误",meta:"提示",duration:3e3})}))}),!1)})),(e,t)=>{const a=k,l=k,r=g,p=U;return s(),n(i,null,[o(lt,{title:"导入与导出",desc:"为防止配置丢失，请务必妥善保存配置文件"},{icon:ht((()=>[o(a,null,{default:ht((()=>[o(f(ae))])),_:1})])),default:ht((()=>[o("div",vt,[o(r,{onClick:h,class:"flex-1 mr-2"},{icon:ht((()=>[o(l,null,{default:ht((()=>[o(f(le))])),_:1})])),default:ht((()=>[yt])),_:1}),o(r,{type:"primary",onClick:m,class:"flex-1 ml-2"},{icon:ht((()=>[o(l,null,{default:ht((()=>[o(f(se))])),_:1})])),default:ht((()=>[bt])),_:1})])])),_:1}),xt,o(p,{preset:"card",title:"导出配置",size:"huge",show:u.value,"onUpdate:show":[t[1]||(t[1]=e=>u.value=e),y],style:{width:"460px",marginTop:"100px"},bordered:!1,"mask-closable":!0},{default:ht((()=>[o("div",wt,[o(l,{size:"30",color:"#34AC69"},{default:ht((()=>[(s(),n(C(c.value?f(ne):f(oe)),{class:{spin:c.value}},null,8,["class"]))])),_:1}),o("div",_t,d(c.value?"配置生成中":"配置文件生成成功"),1)])])),_:1},8,["show"])],64)}}});kt.__scopeId="data-v-2de59dea";const St={class:"flex justify-between"},Tt=o("div",null,"首页搜索引擎按钮",-1),Et={class:"flex justify-between"},Dt=o("div",null,"首页右上角设置按钮",-1);var Ut=t({setup(e){const t=a(),l=p(!1),i=p(!1);function u(e){l.value=e}function c(e){i.value=e}function d(e){t.commit(Ae.ToggleVisible,e)}return h((()=>t.getters.GetVisibleList),(e=>{e.includes("homeSettingButton")?c(!0):c(!1)})),h((()=>t.getters.GetVisibleList),(e=>{e.includes("homeEngines")?u(!0):u(!1)})),v((()=>{u(t.getters.GetVisibleList.includes("homeEngines")),c(t.getters.GetVisibleList.includes("homeSettingButton"))})),(e,t)=>{const a=k,u=q,c=R,g=K;return s(),n(lt,{title:"显示和隐藏",desc:"你可以在这里设置一些元素的可见性"},{icon:r((()=>[o(a,null,{default:r((()=>[o(f(fe))])),_:1})])),default:r((()=>[o(g,{bordered:""},{default:r((()=>[o(c,null,{default:r((()=>[o("div",St,[Tt,o(u,{value:l.value,"onUpdate:value":[t[1]||(t[1]=e=>l.value=e),t[2]||(t[2]=e=>d("homeEngines"))]},null,8,["value"])])])),_:1}),o(c,null,{default:r((()=>[o("div",Et,[Dt,o(u,{value:i.value,"onUpdate:value":[t[3]||(t[3]=e=>i.value=e),t[4]||(t[4]=e=>d("homeSettingButton"))]},null,8,["value"])])])),_:1})])),_:1})])),_:1})}}});const Ct=c(" 选择图片 ");var Bt=t({setup(e){const t=a(),l=D(),i=p();async function u({file:e,fileList:t}){const a=["png","jpeg"],s=e.file.size;let n=e.file.type;return n=n.substring(n.lastIndexOf("/")+1,n.length),a.includes(n)?!(s>2048e3)||(l.error("只能选择小于 2M 的图片，请重新选择"),!1):(l.error(`只能选择 ${a.join()} 格式的图片文件，请重新选择`),!1)}async function c({file:e,fileList:a}){const s=await function(e){return new Promise(((t,a)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=()=>t(l.result),l.onerror=e=>a(e)}))}(e.file);m(s),t.commit(Ae.UpdateHomeBackground,s),l.success("修改成功")}function d(){m(""),t.commit(Ae.UpdateHomeBackground,""),l.success("已清除")}function m(e){i.value=e}return h((()=>t.getters.GetHomeBackground),(e=>m(e))),v((()=>{m(t.getters.GetHomeBackground)})),(e,t)=>{const a=k,l=R,m=g,p=pe,h=K;return s(),n(lt,{title:"背景图片",desc:"限于浏览器存储能力，请选择小于 2M 的图片，格式为 png 或 jpg"},{icon:r((()=>[o(a,null,{default:r((()=>[o(f(ge))])),_:1})])),default:r((()=>[o(h,{class:"my-0 min-w-full"},{default:r((()=>[i.value?(s(),n(l,{key:0,class:"relative !border-0"},{default:r((()=>[o("img",{width:"335.2",height:"200",class:"rounded",src:i.value},null,8,["src"]),o(a,{size:"30",class:"!absolute top-4 right-2 cursor-pointer text-red-500",onClick:d},{default:r((()=>[o(f(me))])),_:1})])),_:1})):_("",!0),o(l,null,{default:r((()=>[o(p,{class:"setting-upload-button flex",multiple:"","default-upload":!1,"file-list-style":{display:"none"},onChange:c,onBeforeUpload:u},{default:r((()=>[o(m,{class:"!w-full",size:"large"},{default:r((()=>[Ct])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}});const Ot=o("div",{class:"flex items-center"},[o("span",null,"设置")],-1);var Nt=t({setup(e){const t=a(),u=p(!1),c=l((()=>t.getters.GetVisibleList.includes("homeSettingButton")));return(e,t)=>{const a=k,l=ye,d=he;return s(),n(i,null,[o("div",{class:"\r\n            group\r\n            !absolute\r\n            text-center\r\n            w-8\r\n            h-8\r\n            leading-10\r\n            top-6\r\n            right-6\r\n            cursor-pointer\r\n        ",onClick:t[1]||(t[1]=e=>u.value=!0)},[o("div",{class:["group-hover:block transition",{hidden:!f(c)}]},[o(a,{size:"20",class:"text-bg-dark-100 dark:text-gray-500"},{default:r((()=>[o(f(ve))])),_:1})],2)]),o(d,{show:u.value,"onUpdate:show":t[2]||(t[2]=e=>u.value=e),width:400,placement:"right"},{default:r((()=>[o(l,{"body-content-style":"padding:0;",closable:""},{header:r((()=>[Ot])),default:r((()=>[o(nt),o(pt),o(mt),o(Bt),o(Ut),o(kt)])),_:1})])),_:1},8,["show"])],64)}}});const Lt=[{path:"/",name:"Home",component:t({setup:e=>(e,t)=>(s(),n(i,null,[o(Ke),o(Nt)],64))})},{path:"/about",name:"About",component:()=>function(e,t){if(!t)return e();if(void 0===je){const e=document.createElement("link").relList;je=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in $e)return;$e[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":je,t||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),t?new Promise(((e,t)=>{l.addEventListener("load",e),l.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>import("./About.7ca5e0d5.js")),["./assets/About.7ca5e0d5.js","./assets/vendor.0b6229c3.js"])}],It=be({history:xe(),routes:Lt});De(t({setup(e){const t=a(),l=p(),i=p({});function u(e){const{classList:t}=document.documentElement;l.value="dark"===e?_e:void 0,t.remove("dark"===e?"light":"dark"),t.add(e)}function c(e){i.value={common:{primaryColor:e,primaryColorHover:Pe(e,20),primaryColorPressed:Pe(e,-20)},Switch:{railColorActive:e}}}function d(e){document.querySelector("#app").style.backgroundImage=`url(${e})`}function g(){u(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function m(){const e=window.matchMedia("(prefers-color-scheme: dark)");"function"==typeof e.addEventListener&&e.addEventListener("change",(e=>{t.getters.GetFollowTheme?u("dark"):u("light")}))}return h((()=>t.state.primaryColor),(e=>c(e))),h((()=>t.state.theme),(e=>u(e))),h((()=>t.state.homeBackground),(e=>d(e))),h((()=>t.getters.GetFollowTheme),(e=>{if(e)g(),m();else{u(t.state.theme)}})),v((()=>{if(m(),t.getters.GetFollowTheme)return g(),!1;u(t.state.theme),c(t.state.primaryColor),d(t.state.homeBackground)})),(e,t)=>{const a=ke("router-view"),u=Se,c=Te,d=Ee;return s(),n(f(we),{theme:l.value,"theme-overrides":i.value},{default:r((()=>[o(d,null,{default:r((()=>[o(c,null,{default:r((()=>[o(u,null,{default:r((()=>[o(a)])),_:1})])),_:1})])),_:1})])),_:1},8,["theme","theme-overrides"])}}})).use(Fe).use(It).mount("#app");
